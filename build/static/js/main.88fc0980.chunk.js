(this["webpackJsonpweq-admin"]=this["webpackJsonpweq-admin"]||[]).push([[0],{322:function(e,a,t){e.exports=t(594)},327:function(e,a,t){},328:function(e,a,t){},332:function(e,a,t){},456:function(e,a,t){},457:function(e,a,t){},458:function(e,a,t){e.exports=t.p+"static/media/WEQ-logo.081c1cf8.svg"},459:function(e,a,t){},586:function(e,a,t){},587:function(e,a,t){e.exports=t.p+"static/media/Shopping Cart-ico.0f4db4a5.svg"},588:function(e,a,t){e.exports=t.p+"static/media/Pointer.bb4ed5c4.svg"},591:function(e,a,t){},592:function(e,a,t){},593:function(e,a,t){},594:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(38),s=t.n(c),m=(t(327),t(328),t(329),t(48)),i=t(29),r=t(17),o=t(41),d=(t(332),t(599)),u=t(598),E=t(24),h=t(597),p=t(604),N=t(176),v=t.n(N),g=t(39),f=t.n(g);var b=function(e){var a={ClientName:"",FirstName:"",LastName:"",PhoneNumber:"",otp:""},t=Object(n.useState)(""),c=Object(r.a)(t,2),s=c[0],i=c[1],N=Object(n.useState)(!1),g=Object(r.a)(N,2),b=g[0],S=g[1],y=Object(n.useState)(!1),C=Object(r.a)(y,2),D=C[0],x=C[1],k=Object(n.useState)(!1),I=Object(r.a)(k,2),w=I[0],O=I[1],B=Object(n.useState)(!1),j=Object(r.a)(B,2),M=j[0],Y=j[1],q=E.b({PhoneNumber:E.c().required("Mobile Number required!"),ClientName:E.c().required("Brand Name required!"),FirstName:E.c().required("First Name required!"),LastName:E.c().required("Last Name required!")}),T={backgroundImage:"url(".concat("","/login-bg.svg)")},L={backgroundImage:"url(".concat("","/logo.svg)")};return l.a.createElement("div",{className:"login-wrapper"},l.a.createElement("div",{className:"left-panel",style:T},l.a.createElement("span",{className:"login-logo",style:L})),l.a.createElement("div",{className:"right-panel"},l.a.createElement(h.a,{spinning:D},l.a.createElement(h.a,{spinning:b},l.a.createElement(o.c,{initialValues:a,validationSchema:q,onSubmit:function(e){S(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/auth/register",{ClientName:e.ClientName,FirstName:e.FirstName,LastName:e.LastName,UserEmail:"",PhoneNumber:e.PhoneNumber}).then((function(a){if(S(!1),a.data.IsExist)Y(!0);else{var t={Name:a.data.otp.Name,PhoneNumber:e.PhoneNumber,RoleID:a.data.otp.RoleID,UserID:a.data.otp.UserID,ClientID:a.data.otp.ClientID,ClientName:a.data.otp.ClientName};localStorage.setItem("user",JSON.stringify(t)),O(!0)}})).catch((function(e){S(!1),console.log(e)}))}},l.a.createElement(d.a,null,l.a.createElement("div",{className:"right-panel-title"},"Create your WeQ Account"),l.a.createElement("div",{className:"field-label"},"Brand Name"),l.a.createElement(d.a.Item,{name:"ClientName",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"ClientName",autoComplete:"off",placeholder:"Brand Name"})),l.a.createElement("div",{className:"field-label"},"First Name"),l.a.createElement(d.a.Item,{name:"FirstName",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"FirstName",autoComplete:"off",placeholder:"First Name"})),l.a.createElement("div",{className:"field-label"},"Last Name"),l.a.createElement(d.a.Item,{name:"LastName",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"LastName",autoComplete:"off",placeholder:"Last Name"})),l.a.createElement("div",{className:"field-label"},"Mobile Number"),l.a.createElement(d.a.Item,{name:"PhoneNumber",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"PhoneNumber",autoComplete:"off",onChange:function(){Y(!1)},placeholder:"Mobile Number"})),w?null:l.a.createElement("div",{className:"ant-row ant-form-item"},l.a.createElement("button",{type:"submit",className:"login-btn"},"Create Account"))))),w?l.a.createElement(o.c,{initialValues:a,onSubmit:function(a){x(!0);var t=JSON.parse(localStorage.getItem("user"));f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/auth/verify",{PhoneNumber:t.PhoneNumber,code:s}).then((function(a){x(!1),e.history.push("/add-shop")})).catch((function(e){x(!1),console.log(e)}))}},l.a.createElement(d.a,null,l.a.createElement("div",{className:"field-label",style:{marginBottom:"5px"}},"Enter OTP"),l.a.createElement("div",{id:"otp-input-root"},l.a.createElement(v.a,{value:s,onChange:function(e){i(e)},numInputs:4,isInputNum:!0})),l.a.createElement("div",{className:"ant-form-item"},l.a.createElement("button",{className:"login-btn"},"Submit")))):null,M?l.a.createElement("div",{className:"ant-form-item"},l.a.createElement(p.a,{message:"This mobile number/Brand Name already in use. Please try with a different one.",type:"error",showIcon:!0,closable:!0})):null,l.a.createElement("div",{className:"hyperlink-wrapper"},"Already have an Account? ",l.a.createElement(m.b,{to:"/login"},"Login")))))},S=(t(456),t(602));var y=function(e){var a={username:"",otp:""},t=Object(n.useState)(""),c=Object(r.a)(t,2),s=c[0],i=c[1],N=Object(n.useState)(!1),g=Object(r.a)(N,2),b=g[0],y=g[1],C=Object(n.useState)(!1),D=Object(r.a)(C,2),x=D[0],k=D[1],I=Object(n.useState)(!1),w=Object(r.a)(I,2),O=w[0],B=w[1],j=Object(n.useState)(!1),M=Object(r.a)(j,2),Y=M[0],q=M[1],T=E.b({username:E.c().required("Mobile Number required!")}),L={backgroundImage:"url(".concat("","/login-bg.svg)")},P={backgroundImage:"url(".concat("","/logo.svg)")};return l.a.createElement("div",{className:"login-wrapper"},l.a.createElement("div",{className:"left-panel",style:L},l.a.createElement("span",{className:"login-logo",style:P})),l.a.createElement("div",{className:"right-panel"},l.a.createElement(h.a,{spinning:x},l.a.createElement(h.a,{spinning:b},l.a.createElement(o.c,{initialValues:a,validationSchema:T,onSubmit:function(e){y(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/auth/login",{PhoneNumber:e.username}).then((function(a){if(y(!1),a.data.IsExist){var t={Name:a.data.otp.Name,PhoneNumber:e.username,RoleID:a.data.otp.RoleID,UserID:a.data.otp.UserID,ClientID:a.data.otp.ClientID,ClientName:a.data.otp.ClientName};localStorage.setItem("user",JSON.stringify(t)),B(!0)}else q(!0)})).catch((function(e){y(!1),console.log(e)}))}},l.a.createElement(d.a,null,l.a.createElement("div",{className:"right-panel-title"},"Login"),l.a.createElement("div",{className:"field-label"},"Mobile Number"),l.a.createElement(d.a.Item,{name:"username",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"username",onChange:function(){q(!1)},autoComplete:"off",prefix:l.a.createElement(S.a,{className:"site-form-item-icon"}),placeholder:"Mobile Number"})),O?null:l.a.createElement("div",{className:"ant-form-item"},l.a.createElement("button",{type:"submit",className:"login-btn"},"Login"))))),O?l.a.createElement(o.c,{initialValues:a,onSubmit:function(){k(!0);var a=JSON.parse(localStorage.getItem("user"));f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/auth/verify",{PhoneNumber:a.PhoneNumber,code:s}).then((function(a){k(!1),e.history.push("/my-shops")})).catch((function(e){k(!1),console.log(e)}))}},l.a.createElement(d.a,null,l.a.createElement("div",{className:"field-label",style:{marginBottom:"5px"}},"Enter OTP"),l.a.createElement("div",{id:"otp-input-root"},l.a.createElement(v.a,{value:s,onChange:function(e){i(e)},numInputs:4,isInputNum:!0})),l.a.createElement("div",{className:"ant-form-item"},l.a.createElement("button",{className:"login-btn"},"Submit")))):null,Y?l.a.createElement("div",{className:"ant-form-item"},l.a.createElement(p.a,{message:"incorrect mobile number",type:"error",showIcon:!0,closable:!0})):null,l.a.createElement("div",{className:"hyperlink-wrapper"},"Not yet registered? ",l.a.createElement(m.b,{to:"/"},"Register")))))},C=(t(457),t(458));var D=function(e){return l.a.createElement("header",{id:"header",className:"clearfix"},l.a.createElement("div",{className:"ant-row",style:{flexFlow:"nowrap"}},l.a.createElement("div",{className:"ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-6 ant-col-xl-5 ant-col-xxl-4"},l.a.createElement("h1",null,l.a.createElement("a",{id:"logo",href:"/my-shops"},l.a.createElement("img",{className:"logo",alt:"logo",src:C})))),l.a.createElement("div",{className:"ant-col menu-row ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-18 ant-col-xl-19 ant-col-xxl-20"},l.a.createElement("div",{id:"search-box",style:{visibility:"hidden"}}),l.a.createElement("ul",{className:"ant-menu ant-menu-light menu-site ant-menu-root ant-menu-horizontal",id:"nav",direction:"ltr",role:"menu"},l.a.createElement("li",{className:"ant-menu-item ant-menu-item-only-child",role:"menuitem"},l.a.createElement(m.b,{activeClassName:"activeMenuLink",exact:!0,to:"/my-shops"},"Home")),l.a.createElement("li",{className:"ant-menu-item ant-menu-item-only-child",role:"menuitem"},l.a.createElement(m.b,{activeClassName:"activeMenuLink",exact:!0,to:"/add-shop"},"Add Shop")),l.a.createElement("li",{className:"ant-menu-item ant-menu-item-only-child",role:"menuitem"},l.a.createElement(m.b,{activeClassName:"activeMenuLink",exact:!0,to:"/login"},"Signout"))))))},x=t(184),k=(t(459),t(601)),I=t(605),w=t(185),O=t.n(w);var B=function e(a,t){Object(x.a)(this,e),this.value=a,this.label=t},j=function(e){var a=JSON.parse(localStorage.user),t=E.b({ShopName:E.c().required("Shop Name required!"),Category:E.c().required("Category required!"),Building:E.c().required("Building required!"),StreetName:E.c().required("Street Name required!"),City:E.c().required("City required!"),State:E.c().required("State required!"),SlotDuration:E.a().required("Slot Duration required!"),VisitorsInEachSlot:E.a().required("Visitors count required!"),MaximumBookingCount:E.a().required("Maximum booking count required!"),StartTime:E.c().nullable().required("Start Time required!"),EndTime:E.c().nullable().required("End Time required!"),Email:E.c().email("Invalid Email!"),SecondaryContact:E.c().required("Mobile Number required!")}),c=Object(n.useState)([]),s=Object(r.a)(c,2),m=s[0],i=s[1],p=Object(n.useState)(!1),N=Object(r.a)(p,2),v=N[0],g=N[1],b=Object(n.useState)({lat:12.9716,lng:77.5946}),S=Object(r.a)(b,2),y=S[0],C=S[1];return Object(n.useEffect)((function(){g(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/branch/getallcategories",{UserID:a.UserID}).then((function(e){var a=[];e.data.data.forEach((function(e){var t=new B(e.CategoryID,e.CategoryName);a.push(t)})),i(a),g(!1)})).catch((function(e){g(!1),console.log(e)}))}),[]),l.a.createElement(o.c,{initialValues:{ShopName:"",Category:"",Email:"",SecondaryContact:"",BranchSupervisorRequired:!1,BranchSupervisorContact:"",Building:"",StreetName:"",City:"",State:"",StartTime:"",EndTime:"",SlotDuration:"",VisitorsInEachSlot:"",MaximumBookingCount:"",Pincode:"",Country:""},validationSchema:t,onSubmit:function(t){console.log("values",t);var n=new Date(t.StartTime).toLocaleTimeString("en-GB"),l=new Date(t.EndTime).toLocaleTimeString("en-GB");g(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/branch/addbranch",{UserID:a.UserID,BranchName:t.ShopName,CategoryID:t.Category,ClientID:a.ClientID,BranchPhoneNumber:t.SecondaryContact,BranchEmailID:t.Email,IsBranchSupervisor:!1,AdminPhoneNumber:null,BuildingNumber:t.Building,StreetName:t.StreetName,City:t.City,State:t.State,Country:t.Country,Pincode:t.Pincode,Latitude:y.lat,Longitude:y.lng,BranchStartTime:n,BranchEndTime:l,SlotInMinutes:t.SlotDuration,MaximumBookingCount:t.MaximumBookingCount,EntryInEachSlot:t.VisitorsInEachSlot,WorkingDayList:"0,1,2,3,4,5,6",BranchImage:null}).then((function(a){g(!1),e.history.push("/my-shops")})).catch((function(e){g(!1),console.log(e)}))}},l.a.createElement(d.a,null,l.a.createElement(h.a,{spinning:v},l.a.createElement("div",{className:"add-bracnch-section"},l.a.createElement("div",{className:"branch-details"},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"Shop Name"),l.a.createElement(d.a.Item,{name:"ShopName",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"ShopName",autoComplete:"off",placeholder:"Shop Name"}))),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"Shop Category"),l.a.createElement(d.a.Item,{name:"Category",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(k.a,{name:"Category",options:m,placeholder:"Select Category"})))),l.a.createElement("div",{className:"ant-form-item"},"Contact"),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"Mobile Number"),l.a.createElement(d.a.Item,{name:"SecondaryContact",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"SecondaryContact",autoComplete:"off",placeholder:"Mobile Number"}))),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"Email"),l.a.createElement(d.a.Item,{name:"Email"},l.a.createElement(u.a,{name:"Email",autoComplete:"off",placeholder:"Email"})))),l.a.createElement("div",{className:"ant-form-item"},"Address"),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"Building"),l.a.createElement(d.a.Item,{name:"Building",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"Building",autoComplete:"off",placeholder:"Building"}))),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"Street Name"),l.a.createElement(d.a.Item,{name:"StreetName",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"StreetName",autoComplete:"off",placeholder:"Street Name"})))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"City"),l.a.createElement(d.a.Item,{name:"City",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"City",autoComplete:"off",placeholder:"City"}))),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"State"),l.a.createElement(d.a.Item,{name:"State",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{name:"State",autoComplete:"off",placeholder:"State"})))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"Pincode"),l.a.createElement(d.a.Item,{name:"Pincode"},l.a.createElement(u.a,{name:"Pincode",autoComplete:"off",placeholder:"Pincode"}))),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"Country"),l.a.createElement(d.a.Item,{name:"Country"},l.a.createElement(u.a,{name:"Country",autoComplete:"off",placeholder:"Country"})))),l.a.createElement("div",{className:"ant-col-xs-24"},l.a.createElement("div",{className:"field-label"},"Choose Location")),l.a.createElement("div",{className:"ant-col-xs-24"},l.a.createElement(O.a,{containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"400px"}}),defaultPosition:y,onChange:function(e){C(e.position)}}))),l.a.createElement("div",{className:"slot-settings"},l.a.createElement("div",{className:"slot-settings-header ant-form-item"},"Slot Settings"),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Working Days"),l.a.createElement("div",{className:"settings-values"},l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{className:"selected-days"},"M"),l.a.createElement("div",{className:"selected-days"},"T"),l.a.createElement("div",{className:"selected-days"},"W"),l.a.createElement("div",{className:"selected-days"},"T"),l.a.createElement("div",{className:"selected-days"},"F"),l.a.createElement("div",{className:"selected-days"},"S"),l.a.createElement("div",{className:"selected-days"},"S")))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Working Start Time"),l.a.createElement("div",{className:"settings-values"},l.a.createElement(d.a.Item,{name:"StartTime",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(I.a,{style:{width:"100%"},placeholder:"Select Start Time",name:"StartTime",format:"h:mm a"})))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Working End Time"),l.a.createElement("div",{className:"settings-values"},l.a.createElement(d.a.Item,{name:"EndTime",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(I.a,{style:{width:"100%"},placeholder:"Select End Time",name:"EndTime",format:"h:mm a"})))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Slot Duration"),l.a.createElement("div",{className:"settings-values"},l.a.createElement(d.a.Item,{name:"SlotDuration",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{style:{width:"100%"},name:"SlotDuration",autoComplete:"off",placeholder:"Slot Duration in minutes"})))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Visitors Count in a Slot"),l.a.createElement("div",{className:"settings-values"},l.a.createElement(d.a.Item,{name:"VisitorsInEachSlot",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{style:{width:"100%"},name:"VisitorsInEachSlot",autoComplete:"off",placeholder:"Visitors count in numbers"})))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Maximum no. of visitors in each booking"),l.a.createElement("div",{className:"settings-values"},l.a.createElement(d.a.Item,{name:"MaximumBookingCount",hasFeedback:!0,showValidateSuccess:!0},l.a.createElement(u.a,{style:{width:"100%"},name:"MaximumBookingCount",autoComplete:"off",placeholder:"Maximum no. of visitors in each booking"})))),l.a.createElement("div",{className:"ant-form-item"},l.a.createElement("button",{className:"login-btn"},"Submit")))))))},M=t(234),Y=t(603),q=(t(586),new function e(){Object(x.a)(this,e),this.selectedShop=null}),T=t(587),L=t(588);var P=function(e){var a=JSON.parse(localStorage.user),t=Object(n.useState)([]),c=Object(r.a)(t,2),s=c[0],m=c[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),d=o[0],u=o[1],E=Object(n.useState)(""),p=Object(r.a)(E,2),N=p[0],v=p[1],g=s.filter((function(e){return e.BranchName.toLowerCase().includes(N.toLowerCase())}));return Object(n.useEffect)((function(){u(!0);var e=JSON.parse(localStorage.user);f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/branch/getallbranches",{UserID:e.UserID,ClientID:e.ClientID}).then((function(e){m(e.data.data),u(!1)})).catch((function(e){u(!1),console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{spinning:d},l.a.createElement("div",{className:"filter"},l.a.createElement("div",{className:"booking-info-header"},"Welcome to, "),l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{className:"brand-name"},a.ClientName),l.a.createElement("div",null,l.a.createElement(M.a,{placeholder:"Search Shop Name",allowClear:!0,onChange:function(e){return function(e){v(e)}(e.target.value)}})))),l.a.createElement("div",{className:"shops-section"},g&&g.length?l.a.createElement("div",{className:"shops-grid"},g.map((function(a,t){return l.a.createElement("div",{onClick:function(){return t=a,q.selectedShop=t,void e.history.push("/home");var t},key:t,className:"shop-grid-item"},l.a.createElement("div",{className:"img"},l.a.createElement("img",{alt:"shop",src:T})),l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"shop-names"},a.BranchName),l.a.createElement("div",null,a.CategoryName),l.a.createElement("div",{className:"shop-address"},l.a.createElement("img",{alt:"",src:L}),"  ",a.BuildingNumber," ",a.StreetName," ",a.City,"  ",a.State)))}))):l.a.createElement(Y.a,{title:"Your brand is empty. Please create a shop",extra:l.a.createElement("button",{onClick:function(){e.history.push("/add-shop")},className:"weq-button"},"Add Shop")}))))},F=(t(591),t(16)),V=t.n(F);var A=function(e){var a=JSON.parse(localStorage.user),t=Object(n.useState)([]),c=Object(r.a)(t,2),s=c[0],m=c[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],E=Object(n.useState)([]),p=Object(r.a)(E,2),N=p[0],v=p[1],g=Object(n.useState)(!1),b=Object(r.a)(g,2),S=b[0],y=b[1];return Object(n.useEffect)((function(){y(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/branch/getslotdetails",{BranchID:q.selectedShop.BranchID,UserID:a.UserID,StartDate:V()(new Date).format("YYYY-MM-DD"),EndDate:V()(new Date).format("YYYY-MM-DD")}).then((function(e){var a,t,n=(a=e.data.config,t="DaySequence",a.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{}));m(n.Morning),u(n.Afternoon),v(n.Evening),y(!1)})).catch((function(e){y(!1),console.log(e)}))}),[]),l.a.createElement(h.a,{spinning:S},l.a.createElement("div",{className:"slots-section"},S?l.a.createElement(Y.a,{title:"Loading..."}):l.a.createElement(l.a.Fragment,null,s&&s.length?l.a.createElement("div",{className:"slots-heading"},l.a.createElement("span",{className:"booked-timing"},"Morning"),l.a.createElement("span",{className:"booked-count"},"Booked 20/35")):null,l.a.createElement("div",{className:"slots-grid"},s&&s.map((function(e,a){return l.a.createElement("div",{key:a,className:e.BookedCount?"grid-item-booked":"grid-item"},l.a.createElement("div",null,l.a.createElement("span",{className:"sl-no"},"WEQ "),l.a.createElement("span",{className:"booking-id"},e.BookingUniqueID||a+1)),l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{className:"ppl-count"},e.BookedCount," People"),l.a.createElement("div",{className:"duration"},V()(e.SlotStartTime||0,["h:mm A"]).format("hh:mm A")," - ",V()(e.SlotEndTime||0,["h:mm A"]).format("hh:mm A"))))}))),d&&d.length?l.a.createElement("div",{className:"slots-heading"},l.a.createElement("span",{className:"booked-timing"},"Afternoon"),l.a.createElement("span",{className:"booked-count"},"Booked 20/35")):null,l.a.createElement("div",{className:"slots-grid"},d&&d.map((function(e,a){return l.a.createElement("div",{key:a,className:e.BookedCount?"grid-item-booked":"grid-item"},l.a.createElement("div",null,l.a.createElement("span",{className:"sl-no"},"WEQ "),l.a.createElement("span",{className:"booking-id"},e.BookingUniqueID||a+1)),l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{className:"ppl-count"},e.BookedCount," People"),l.a.createElement("div",{className:"duration"},V()(e.SlotStartTime||0,["h:mm A"]).format("hh:mm A")," - ",V()(e.SlotEndTime||0,["h:mm A"]).format("hh:mm A"))))}))),N&&N.length?l.a.createElement("div",{className:"slots-heading"},l.a.createElement("span",{className:"booked-timing"},"Evening"),l.a.createElement("span",{className:"booked-count"},"Booked 20/35")):null,l.a.createElement("div",{className:"slots-grid"},N&&N.map((function(e,a){return l.a.createElement("div",{key:a,className:e.BookedCount?"grid-item-booked":"grid-item"},l.a.createElement("div",null,l.a.createElement("span",{className:"sl-no"},"WEQ "),l.a.createElement("span",{className:"booking-id"},e.BookingUniqueID||a+1)),l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{className:"ppl-count"},e.BookedCount," People"),l.a.createElement("div",{className:"duration"},V()(e.SlotStartTime||0,["h:mm A"]).format("hh:mm A")," - ",V()(e.SlotEndTime||0,["h:mm A"]).format("hh:mm A"))))}))))))},U=t(233),R=(t(592),t(232)),W=t(600),J=R.a.RangePicker;var z=function(e){var a=JSON.parse(localStorage.user),t=new Date,c=new Date(t.setDate(t.getDate()-7)),s=Object(n.useState)(V()(c,"DD/MM/YYYY")),m=Object(r.a)(s,2),i=m[0],o=m[1],d=Object(n.useState)(V()(new Date,"DD/MM/YYYY")),u=Object(r.a)(d,2),E=u[0],p=u[1],N=Object(n.useState)([]),v=Object(r.a)(N,2),g=v[0],b=v[1],S=Object(n.useState)(!1),y=Object(r.a)(S,2),C=y[0],D=y[1],x=Object(n.useState)("Loading..."),k=Object(r.a)(x,2),I=k[0],w=k[1];return Object(n.useEffect)((function(){D(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/branch/getslotdetails",{BranchID:q.selectedShop.BranchID,UserID:a.UserID,StartDate:V()(c).format("YYYY-MM-DD"),EndDate:V()(new Date).format("YYYY-MM-DD")}).then((function(e){var a=e.data.data;a.map((function(e){e.BookedDate=V()(new Date(e.SelectedDateRange)).format("DD/MM/YYYY")}));var t=Object(U.a)(new Set(a.map((function(e){return e.BookedDate})))),n=[];t.forEach((function(e){var t={date:e,data:a.filter((function(a){return e===a.BookedDate}))};n.push(t)})),b(n),n.length||w("No slots are booked between "+V()(c).format("DD/MM/YYYY")+" and "+V()(new Date).format("DD/MM/YYYY")),D(!1)})).catch((function(e){D(!1),console.log(e)}))}),[]),l.a.createElement(h.a,{spinning:C},l.a.createElement("div",{className:"visitors-section"},l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{style:{flexGrow:1}},l.a.createElement(J,{defaultValue:[i,E],format:"DD/MM/YYYY",onChange:function(e){e&&(o(e[0]),p(e[1]),D(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/branch/getslotdetails",{BranchID:q.selectedShop.BranchID,UserID:a.UserID,StartDate:V()(new Date(e[0])).format("YYYY-MM-DD"),EndDate:V()(new Date(e[1])).format("YYYY-MM-DD")}).then((function(a){var t=a.data.data;t.map((function(e){e.BookedDate=V()(new Date(e.SelectedDateRange)).format("DD/MM/YYYY")}));var n=Object(U.a)(new Set(t.map((function(e){return e.BookedDate})))),l=[];n.forEach((function(e){var a={date:e,data:t.filter((function(a){return e===a.BookedDate}))};l.push(a)})),b(l),l.length||w("No slots are booked between "+V()(new Date(e[0])).format("DD/MM/YYYY")+" and "+V()(new Date(e[1])).format("DD/MM/YYYY")),D(!1)})).catch((function(e){D(!1),console.log(e)})))}})),l.a.createElement("div",{style:{display:"none"}},l.a.createElement(M.a,{placeholder:"Enter visitor name",allowClear:!0,onChange:function(e){e.target.value}}))),g&&g.length?g.map((function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement("div",{className:"date-header"},e.date),l.a.createElement("div",{className:"slots-grid"},e.data.map((function(e,a){return l.a.createElement(W.a,{key:a,content:function(){return function(e){return l.a.createElement("div",null,l.a.createElement("p",null,"Name: ",e.UserName),l.a.createElement("p",null,"Mobile: ",e.PhoneNumber),l.a.createElement("p",null,"Email: ",e.UserEmail))}(e)},title:"Guest details"},l.a.createElement("div",{key:a,className:"grid-item"},l.a.createElement("div",null,l.a.createElement("span",{className:"sl-no"},e.UserName)),l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{className:"ppl-count"},"with ",e.BookedCount," visitors"),l.a.createElement("div",{className:"duration"},V()(e.SlotStartTime||0,["HH"]).format("hh A")," - ",V()(e.SlotEndTime||0,["HH"]).format("hh A")))))}))))})):l.a.createElement(Y.a,{title:I})))};t(593);var H=function(e){var a=JSON.parse(localStorage.user);return l.a.createElement("header",{className:"home-header"},l.a.createElement("div",{className:"breadcrum"},"Home / ",l.a.createElement(m.b,{exact:!0,to:"/my-shops"},a.ClientName)),l.a.createElement("div",{className:"shop-name"},q.selectedShop.BranchName),l.a.createElement("div",{className:"sub-menu"},l.a.createElement(m.b,{activeClassName:"activeMenuLink",exact:!0,to:"/home"},"Today\u2019s Bookings"),l.a.createElement(m.b,{activeClassName:"activeMenuLink",exact:!0,to:"/home/pastbookings"},"Past Bookings"),l.a.createElement(m.b,{activeClassName:"activeMenuLink",exact:!0,to:"/home/shopinfo"},"Shop Info")))};var Q=function(e){var a=JSON.parse(localStorage.user),t=Object(n.useState)({}),c=Object(r.a)(t,2),s=c[0],m=c[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),d=o[0],u=o[1],E=Object(n.useState)({lat:12.9716,lng:77.5946}),p=Object(r.a)(E,2),N=p[0],v=p[1];return Object(n.useEffect)((function(){u(!0),f.a.post("http://ec2-52-15-191-227.us-east-2.compute.amazonaws.com/superadmin/branch/getbranch_id",{BranchID:q.selectedShop.BranchID,UserID:a.UserID}).then((function(e){m(e.data.data[0]),v({lat:e.data.data[0].Latitude,lng:e.data.data[0].Longitude}),u(!1)})).catch((function(e){u(!1),console.log(e)}))}),[]),l.a.createElement(h.a,{spinning:d},l.a.createElement("div",{className:"add-bracnch-section"},l.a.createElement("div",{className:"branch-details"},l.a.createElement("div",{className:"ant-form-item"},"Contact"),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"Mobile Number"),"+91 ",s.BranchPhoneNumber),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"Email"),s.BranchEmailID)),l.a.createElement("div",{className:"ant-form-item"},"Address"),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"Building"),s.BuildingNumber),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"Street Name"),s.StreetName)),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingRight:"8px"}},l.a.createElement("div",{className:"field-label"},"City"),s.City),l.a.createElement("div",{className:"ant-col-xs-12",style:{paddingLeft:"8px"}},l.a.createElement("div",{className:"field-label"},"State"),s.State)),l.a.createElement("div",{className:"ant-col-xs-24"},l.a.createElement(O.a,{containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"400px"}}),defaultPosition:N,onChange:function(e){console.log(e)}}))),l.a.createElement("div",{className:"slot-settings"},l.a.createElement("div",{className:"slot-settings-header ant-form-item"},"Slot Settings"),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Working Days"),l.a.createElement("div",{className:"settings-values"},l.a.createElement("div",{className:"display-flex"},l.a.createElement("div",{className:"selected-days"},"M"),l.a.createElement("div",{className:"selected-days"},"T"),l.a.createElement("div",{className:"selected-days"},"W"),l.a.createElement("div",{className:"selected-days"},"T"),l.a.createElement("div",{className:"selected-days"},"F"),l.a.createElement("div",{className:"selected-days"},"S"),l.a.createElement("div",{className:"selected-days"},"S")))),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Working Start Time"),l.a.createElement("div",{className:"settings-values"},V()(s.BranchStartTime||0,["HH"]).format("hh A"))),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Working End Time"),l.a.createElement("div",{className:"settings-values"},V()(s.BranchEndTime||0,["HH"]).format("hh A"))),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Slot Duration"),l.a.createElement("div",{className:"settings-values"},s.SlotInMinutes," minutes")),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Visitors Count in a Slot"),l.a.createElement("div",{className:"settings-values"},s.EntryInEachSlot)),l.a.createElement("div",{className:"ant-form-item",style:{display:"flex"}},l.a.createElement("div",{className:"settings-label"},"Maximum no. of visitors in each booking"),l.a.createElement("div",{className:"settings-values"},s.MaximumBookingCount)))))};var G=function(e){return l.a.createElement("div",{style:{backgroundColor:"#ECF2F5",minHeight:"calc(100vh - 64px)"}},l.a.createElement(H,null),l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/home",component:A}),l.a.createElement(i.b,{exact:!0,path:"/home/pastbookings",component:z}),l.a.createElement(i.b,{exact:!0,path:"/home/shopinfo",component:Q})))};var $=function(){return l.a.createElement(m.a,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/login",component:y}),l.a.createElement(i.b,{exact:!0,path:"/",component:b}),l.a.createElement(l.a.Fragment,null,l.a.createElement(D,null),l.a.createElement(i.b,{exact:!0,path:"/add-shop",component:j}),l.a.createElement(i.b,{exact:!0,path:"/my-shops",component:P}),l.a.createElement(i.b,{path:"/home",render:function(){return null!==q.selectedShop?l.a.createElement(G,null):l.a.createElement(i.a,{to:"/my-shops"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[322,1,2]]]);
//# sourceMappingURL=main.88fc0980.chunk.js.map